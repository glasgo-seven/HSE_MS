# HSE_MS - –ò—Ç–æ–≥–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç - FastAPI
Mentor's Seminar (2024/2025 modules: 1,2,3,4)
___

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
- [HSE\_MS - –ò—Ç–æ–≥–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç - FastAPI](#hse_ms---–∏—Ç–æ–≥–æ–≤—ã–π-–ø—Ä–æ–µ–∫—Ç---fastapi)
	- [–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ](#—Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ)
	- [–ß–µ–∫-–ª–∏—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏](#—á–µ–∫-–ª–∏—Å—Ç-–ø—Ä–æ–≤–µ—Ä–∫–∏)
	- [TODO-—Å–µ—Ä–≤–∏—Å](#todo-—Å–µ—Ä–≤–∏—Å)
		- [–û–ø–∏—Å–∞–Ω–∏–µ](#–æ–ø–∏—Å–∞–Ω–∏–µ)
		- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞)
			- [–õ–æ–∫–∞–ª—å–Ω–æ –∏–∑ GitHub](#–ª–æ–∫–∞–ª—å–Ω–æ-–∏–∑-github)
			- [–£–¥–∞–ª—ë–Ω–Ω–æ —á–µ—Ä–µ–∑ Docker](#—É–¥–∞–ª—ë–Ω–Ω–æ-—á–µ—Ä–µ–∑-docker)
		- [–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏](#–ø—Ä–æ–≤–µ—Ä–∫–∞-—Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏)
	- [–°–µ—Ä–≤–∏—Å —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è URL](#—Å–µ—Ä–≤–∏—Å-—Å–æ–∫—Ä–∞—â–µ–Ω–∏—è-url)
		- [–û–ø–∏—Å–∞–Ω–∏–µ](#–æ–ø–∏—Å–∞–Ω–∏–µ-1)
		- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-1)
			- [–õ–æ–∫–∞–ª—å–Ω–æ –∏–∑ GitHub](#–ª–æ–∫–∞–ª—å–Ω–æ-–∏–∑-github-1)
			- [–£–¥–∞–ª—ë–Ω–Ω–æ —á–µ—Ä–µ–∑ Docker](#—É–¥–∞–ª—ë–Ω–Ω–æ-—á–µ—Ä–µ–∑-docker-1)
		- [–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏](#–ø—Ä–æ–≤–µ—Ä–∫–∞-—Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏-1)

___



## –ß–µ–∫-–ª–∏—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏
| –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è | –û—Ç–º–µ—Ç–∫–∞ –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ |
| --- | --- |
| –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω **TODO-—Å–µ—Ä–≤–∏—Å** –∏ **—Å–µ—Ä–≤–∏—Å —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è —Å—Å—ã–ª–æ–∫** –Ω–∞ FastAPI | [x] |
| –ü–æ–¥–∫–ª—é—á—ë–Ω **SQLite** –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö | [x] |
| –ù–∞–ø–∏—Å–∞–Ω **Dockerfile** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ | [x] |
| –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã **—Ç–æ–º–∞** –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö | [x] |
| –ü—Ä–æ–≤–µ–¥–µ–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ —Å –ø–æ–º–æ—â—å—é `curl` –∏–ª–∏ –≤–µ–± –≤–µ—Ä—Å–∏—é `/docs` (Postman) | [x] |
| –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –∑–∞–≥—Ä—É–∂–µ–Ω –Ω–∞ **GitHub** | [ ] |
| –°–æ–±—Ä–∞–Ω –∏ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω **Docker-–æ–±—Ä–∞–∑** –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ **Docker Hub** | [ ] |
| –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫–∏ –Ω–∞ **GitHub-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π** –∏ –æ–±—Ä–∞–∑—ã –Ω–∞ **Docker Hub** –≤ –æ—Ç—á–µ—Ç –∏ –ø—Ä–∏–∫—Ä–µ–ø–∏—Ç—å –≤ –õ–ú–° | [ ] |

**–û–±—â–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
* –ö–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å ‚Äî –æ—Ç–¥–µ–ª—å–Ω–æ–µ FastAPI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.
* –°–µ—Ä–≤–∏—Å—ã –∏–º–µ—é—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ –∞–¥—Ä–µ—Å—É `/docs`.
* –î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ SQLite. –§–∞–π–ª –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∞ –∫–∞–∫ —Ç–æ–º –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ Docker**
* –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –Ω–∞–ø–∏—Å–∞—Ç—å Dockerfile.
* –ü—Ä–∏–º–µ—Ä Dockerfile –¥–æ–ª–∂–µ–Ω:
  * –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (pip install -r requirements.txt).
  * –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ —Å–µ—Ä–≤–∏—Å–∞.
  * –û–±—ä—è–≤–∏—Ç—å VOLUME /app/data –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.
  * –ó–∞–ø—É—Å–∫–∞—Ç—å uvicorn-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –ø–æ—Ä—Ç—É 80.

___


## TODO-—Å–µ—Ä–≤–∏—Å
### –û–ø–∏—Å–∞–Ω–∏–µ
–†–µ–∞–ª–∏–∑—É–µ—Ç CRUD-–æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è —Å–ø–∏—Å–∫–∞ –∑–∞–¥–∞—á —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö –≤ SQLite

* –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã:
  * `POST /items`: –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ (title, description?, completed=false).
  * `GET /items`: –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –∑–∞–¥–∞—á.
  * `GET /items/{item_id}`: –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ –ø–æ ID.
  * `PUT /items/{item_id}`: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ –ø–æ ID.
  * `DELETE /items/{item_id}`: –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏.
* –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å —Å –±–∞–∑–æ–π SQLite.
* –ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –¥–æ–ª–∂–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Ç–∞–±–ª–∏—Ü–∞, –µ—Å–ª–∏ –æ–Ω–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞
#### –õ–æ–∫–∞–ª—å–Ω–æ –∏–∑ GitHub
1) –°–∫–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å (—Å–∫–∞—á–∞—Ç—å) —Ç–µ–∫—É—â–∏–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –≤—ã–±—Ä–∞—Ç—å –≤–µ—Ç–∫—É:
   ```bash
   git clone https://github.com/glasgo-seven/HSE_MS.git
   git checkout final_fastapi
   ```
2) –ü–µ—Ä–µ–π—Ç–∏ –≤ –ø–∞–ø–∫—É —Å —Å–µ—Ä–≤–∏—Å–æ–º
   ```bash
   cd ./todo_app
   ```
3) –ó–∞–ø—É—Å—Ç–∏—Ç—å –∏—Å–ø–æ–ª—å–∑—É—è `Dockerfile`
   ```bash
   docker run -d -p 8000:80 -v todo_data:/app/data <–∏–º—è_–æ–±—Ä–∞–∑–∞_todo>
   ```

#### –£–¥–∞–ª—ë–Ω–Ω–æ —á–µ—Ä–µ–∑ Docker
1) –ò—Å–ø–æ–ª—å–∑—É—è –∫–æ–º–∞–Ω–¥—É:
   ```bash
   docker run -d -p 8000:80 -v todo_data:/app/data glasgoseven/todo-service:latest
   ```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
1) `POST /items` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á–∏.
2) `GET /items` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –∑–∞–¥–∞—á.
3) –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∑–∞–¥–∞—á–∏ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (–±–ª–∞–≥–æ–¥–∞—Ä—è —Ç–æ–º—É, —á—Ç–æ –±–∞–∑–∞ –≤ —Ç–æ–º–µ).

___

## –°–µ—Ä–≤–∏—Å —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è URL
### –û–ø–∏—Å–∞–Ω–∏–µ
–ü–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–æ—Ä–æ—Ç–∫–∏–µ —Å—Å—ã–ª–∫–∏ –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö URL, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ –∫–æ—Ä–æ—Ç–∫–æ–º—É –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å—Å—ã–ª–∫–µ. –¢–∞–∫–∂–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ SQLite.

> [!–î–æ–ø–æ–ª–Ω–µ–Ω–∏–µ - –§–∏—á–∞]
> –ü—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ—Ä–æ—Ç–∫–æ–π —Å—Å—ã–ª–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —ç–º–æ–¥–∑–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ—Å—Ç–æ—è—Ç –∏–∑ –æ–¥–Ω–æ–≥–æ UNICODE-—Å–∏–º–≤–æ–ª–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: üòµ, ü´§, ü§≠, ü§ï, üò∑, üßê, ü´¢, üòÆ)

* –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã:
  * `POST /shorten`: –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –ø–æ–ª–Ω—ã–π URL (JSON: `{"url":"..."}`) –∏
–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ—Ä–æ—Ç–∫—É—é —Å—Å—ã–ª–∫—É.
  * `GET /{short_id}`: –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ –ø–æ–ª–Ω—ã–π URL, –µ—Å–ª–∏ –æ–Ω
—Å—É—â–µ—Å—Ç–≤—É–µ—Ç.
  * `GET /stats/{short_id}`: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ø–æ–ª–Ω–æ–º
URL.
* –î–∞–Ω–Ω—ã–µ –æ —Å–æ–∫—Ä–∞—â–µ–Ω–Ω—ã—Ö —Å—Å—ã–ª–∫–∞—Ö (short_id -> full_url) —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ SQLite.
* –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Ç–∞–∫–∂–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Ç–∞–±–ª–∏—Ü–∞.

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞
#### –õ–æ–∫–∞–ª—å–Ω–æ –∏–∑ GitHub
1) –°–∫–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å (—Å–∫–∞—á–∞—Ç—å) —Ç–µ–∫—É—â–∏–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –≤—ã–±—Ä–∞—Ç—å –≤–µ—Ç–∫—É:
   ```bash
   git clone https://github.com/glasgo-seven/HSE_MS.git
   git checkout final_fastapi
   ```
2) –ü–µ—Ä–µ–π—Ç–∏ –≤ –ø–∞–ø–∫—É —Å —Å–µ—Ä–≤–∏—Å–æ–º
   ```bash
   cd ./shorturl_app
   ```
3) –ó–∞–ø—É—Å—Ç–∏—Ç—å –∏—Å–ø–æ–ª—å–∑—É—è `Dockerfile`
   ```bash
   docker run -d -p 8001:80 -v shorturl_app:/app/data <–∏–º—è_–æ–±—Ä–∞–∑–∞_todo>
   ```

#### –£–¥–∞–ª—ë–Ω–Ω–æ —á–µ—Ä–µ–∑ Docker
1) –ò—Å–ø–æ–ª—å–∑—É—è –∫–æ–º–∞–Ω–¥—É:
   ```bash
   docker run -d -p 8001:80 -v shorturl_data:/app/data glasgoseven/shorturl-service:latest
   ```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
1) `POST /shorten` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ—Ä–æ—Ç–∫–æ–π —Å—Å—ã–ª–∫–∏.
2) `GET /{short_id}` –¥–ª—è —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞.
3) `GET /stats/{short_id}` –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –æ —Å—Å—ã–ª–∫–µ.
4) –î–∞–Ω–Ω—ã–µ –æ —Å—Å—ã–ª–∫–∞—Ö —Å–æ—Ö—Ä–∞–Ω—è—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

___